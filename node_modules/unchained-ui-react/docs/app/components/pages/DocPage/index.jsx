import _ from 'lodash/fp';
import React, { Component } from 'react';
import PropTypes from 'prop-types';

import {
  META
} from 'src/lib';

import * as unchainedUIReact from 'src/components'; // eslint-disable-line import/no-duplicates

import {
  Container
} from 'src/components'; // eslint-disable-line import/no-duplicates

import {
  ComponentDoc,
} from 'docs/app/components';

export default class DocPage extends Component {
  static propTypes = {
    match: PropTypes.shape({
      params: PropTypes.shape({
        name: PropTypes.string.isRequired,
      }),
    }),
  }

  render() {
    const {
      name
    } = this.props.match.params;

    const componentName = _.startCase(name).replace(/ /g, '');
    const component = unchainedUIReact[componentName];

    if (!component || !component._meta || !META.isParent(component)) {
      return null;
    }

    return (
      <Container>
        <ComponentDoc _meta={component._meta} />
      </Container>
    );
  }
}
